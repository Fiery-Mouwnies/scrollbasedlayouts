<!DOCTYPE html>
<html lang="en" class="js">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Preserving Artistic Identity</title>
    <link rel="stylesheet" href="https://use.typekit.net/cch1nog.css">
    <link rel="stylesheet" href="css/base.css">
</head>
<body class="loading">
    <main>
        <section class="project project--details project--right">
            <span class="project__label project__label--default">Preserving Artistic Identity</span>
            <p>While AI offers new avenues for artistic exploration... striking the right balance between AI-generated art and the irreplaceable human touch requires thoughtful consideration...</p>
        </section>
        
        <div class="gallery-wrap">
            <div class="gallery gallery--grid6" id="gallery-6">
                <div class="gallery__item pos-1" style="background-image:url(img/macadamia.png)"></div>
                <div class="gallery__item pos-2" style="background-image:url(img/honeydew-honey.png)"></div>
                <div class="gallery__item pos-3" style="background-image:url(img/allulose.png)"></div>
                <div class="gallery__item pos-4" style="background-image:url(img/stearic-acid.png)"></div>
                <div class="gallery__item pos-5" style="background-image:url(img/coconut-cream.png)"></div>
                <div class="gallery__item pos-6" style="background-image:url(img/thehack.png)"></div>
                <div class="caption">The Art of Perfection?</div>
            </div>
        </div>
    </main>

    <!-- Load GSAP and plugins from CDN for reliability -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/Flip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://unpkg.com/lenis@1.0.45/dist/lenis.min.js"></script>
    <script src="js/imagesloaded.pkgd.min.js"></script>
    
    <!-- Simple inline script to ensure it works -->
    <script>
        console.log('Scripts loading...');
        
        // Wait for DOM to be ready
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM ready');
            
            // Check if libraries loaded
            if (typeof gsap === 'undefined') {
                console.error('GSAP not loaded');
                return;
            }
            if (typeof Lenis === 'undefined') {
                console.error('Lenis not loaded');
                return;
            }
            if (typeof imagesLoaded === 'undefined') {
                console.error('imagesLoaded not loaded');
                return;
            }
            
            console.log('All libraries loaded successfully');
            
            // Register GSAP plugins
            gsap.registerPlugin(Flip, ScrollTrigger);
            console.log('GSAP plugins registered');
            
            // Remove loading class immediately to test visibility
            document.body.classList.remove('loading');
            console.log('Loading class removed - page should be visible now');
            
            // Initialize smooth scrolling
            const lenis = new Lenis({
                lerp: 0.1,
                smoothWheel: true
            });
            
            lenis.on('scroll', () => ScrollTrigger.update());
            
            const scrollFn = (time) => {
                lenis.raf(time);
                requestAnimationFrame(scrollFn);
            };
            requestAnimationFrame(scrollFn);
            
            console.log('Smooth scrolling initialized');
            
            // Simple test animation
            const galleryElement = document.querySelector('#gallery-6');
            if (galleryElement) {
                console.log('Gallery element found, setting up animation');
                
                // Add switch class temporarily to see final state
                galleryElement.classList.add('gallery--switch');
                const flipstate = Flip.getState(galleryElement.querySelectorAll('.gallery__item, .caption'), {props: 'filter, opacity'});
                galleryElement.classList.remove('gallery--switch');
                
                // Create animation
                Flip.to(flipstate, {
                    ease: 'none',
                    scrollTrigger: {
                        trigger: galleryElement,
                        start: 'center center',
                        end: '+=500%',
                        pin: galleryElement.parentNode,
                        scrub: true,
                    },
                    stagger: 0.08
                });
                
                console.log('Animation created successfully');
            } else {
                console.error('Gallery element not found');
            }
        });
    </script>
</body>
</html>