<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Preserving Artistic Identity - Correct Version</title>
    <link rel="stylesheet" href="https://use.typekit.net/cch1nog.css">

    <style>
        /* --- CSS directly from the original Codrops base.css file --- */
        *, *::after, *::before { box-sizing: border-box; }
        :root {
            font-size: 18px;
            --color-text: #fff;
            --color-bg: #131417;
            --color-label: #adadad;
            --color-text-alt: #575757;
        }
        body {
            margin: 0;
            color: var(--color-text);
            background-color: var(--color-bg);
            font-family: "tenon", -apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        main { position: relative; width: 100%; overflow: hidden; }
        .project { padding: 1rem; max-width: 1000px; margin: 20vh auto; display: grid; grid-column-gap: 7vw; grid-row-gap: 0.5rem; }
        .project--details { grid-template-areas: 'label-default' 'paragraph'; grid-template-columns: 1fr; }
        .project--right { justify-items: end; }
        .project--details p { grid-area: paragraph; max-width: 400px; text-align: right; }
        .project__label--default { grid-area: label-default; }
        .project p { line-height: 1.4; margin: 0; color: var(--color-text-alt); }
        .project__label { color: var(--color-label); }
        .gallery-wrap { position: relative; width: 100%; height: 100vh; display: flex; align-items: center; justify-content: center; margin: 40vh auto; }
        .gallery { position: relative; width: 100%; height: 100%; flex: none; }
        .gallery__item { background-position: 50% 50%; background-size: cover; border-radius: 6px; }
        .caption { position: absolute; opacity: 0; z-index: 101; font-size: clamp(2rem, 8vw, 6rem); }
        
        /* --- Faithful replication of the .gallery--grid10 effect --- */
        .gallery--grid10 {
            display: grid;
            grid-template-columns: repeat(10, 1fr);
            grid-template-rows: repeat(4, 1fr);
            gap: 2vw;
            padding: 2vw;
        }
        /* Initial positions for the images */
        .gallery--grid10:not(.gallery--switch) .pos-1 { grid-area: 1 / 1; }
        .gallery--grid10:not(.gallery--switch) .pos-2 { grid-area: 1 / 4; }
        .gallery--grid10:not(.gallery--switch) .pos-3 { grid-area: 3 / 6; }
        .gallery--grid10:not(.gallery--switch) .pos-4 { grid-area: 3 / 10; }
        .gallery--grid10:not(.gallery--switch) .pos-5 { grid-area: 2 / 2; }
        .gallery--grid10:not(.gallery--switch) .pos-6 { grid-area: 4 / 3; }
        
        /* Final state when .gallery--switch is added */
        .gallery--switch.gallery--grid10 {
            grid-template-columns: 1fr 300px 1fr;
            grid-template-rows: 1fr 60vh 1fr;
            grid-gap: 0;
            padding: 0;
        }
        .gallery--switch.gallery--grid10 .gallery__item {
            grid-area: 2 / 2 / 3 / 3;
        }
        .gallery--switch.gallery--grid10 .caption {
            opacity: 1;
            grid-area: 2 / 2 / 3 / 3;
            place-self: center;
        }
    </style>
</head>
<body>
    <main>
        <section class="project project--details project--right">
            <span class="project__label project__label--default">Preserving Artistic Identity</span>
            <p>While AI offers new avenues for artistic exploration, balancing the integration of AI tools and techniques with preserving the unique perspectives, emotional depth, and artistic identity of human artists is a significant challenge.</p>
        </section>
        
        <div class="gallery-wrap">
            <div class="gallery gallery--grid10" id="gallery-effect">
                <!-- Using the original position classes with your images -->
                <div class="gallery__item pos-1" style="background-image:url(https://images.unsplash.com/photo-1629228736430-176839c63442?q=80&w=600&auto=format&fit=crop)"></div>
                <div class="gallery__item pos-2" style="background-image:url(https://images.unsplash.com/photo-1558642452-9d2a7deb7f62?q=80&w=600&auto=format&fit=crop)"></div>
                <div class="gallery__item pos-3" style="background-image:url(https://images.unsplash.com/photo-1528755013342-218d49572452?q=80&w=600&auto=format&fit=crop)"></div>
                <div class="gallery__item pos-4" style="background-image:url(https://images.unsplash.com/photo-1599305141447-35a1a6b07a82?q=80&w=600&auto=format&fit=crop)"></div>
                <div class="gallery__item pos-5" style="background-image:url(https://images.unsplash.com/photo-1590695034824-3c9451121323?q=80&w=600&auto=format&fit=crop)"></div>
                <div class="gallery__item pos-6" style="background-image:url(https://images.unsplash.com/photo-1542831371-29b0f74f9713?q=80&w=600&auto=format&fit=crop)"></div>
                <div class="caption">The Art of Perfection?</div>
            </div>
        </div>
    </main>

    <!-- All necessary JS libraries have been embedded to prevent loading errors -->
    <script>
        // GSAP, Flip, ScrollTrigger, and Lenis library code is embedded here.
        // This is a large block of minified code that makes the animations possible.
        !function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).window=t.window||{})}(this,function(t){"use strict";function e(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}function n(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r(t){return"string"==typeof t}function i(t){return"function"==typeof t}function o(t){return"number"==typeof t}function a(t){return"object"==typeof t}function s(t){return i(t)}function u(t){return a(t)}function l(t){return void 0===t}function c(t){return!0===t}function f(t){return Math.round(1e5*t)/1e5||0}function h(t,e){return"string"==typeof t&&"="===t.charAt(1)?parseInt(t.substr(2),10)*("-"===t.charAt(0)?-1:1)+e:Number(t)||0}function p(t,e){return i(t)?t(e):Number(t)}function d(){return"undefined"!=typeof window}function m(){return Ct||d()&&(Ct=window.gsap)&&Ct.registerPlugin&&Ct}function g(t){return d()&&document.body.contains(t)}function v(t,e){return Ct.utils.toArray(t)[0]||(r(t)&&!1!==Ct.config().nullTargetWarn?console.warn("Element not found:",t):null)}function y(t,e){var n=e.s,r=e.sc,i=Gt.indexOf(t);return~i||(i=Gt.push(t)-1),Gt[i+1]||(t.addEventListener("scroll",ie),Gt[i+1]=r===qt?jt:Xt(t,n,!0)),Gt[i+2]||(t.addEventListener("scroll",oe),Gt[i+2]=Xt(t,n)),Gt[i+2]}function x(t,e){return(e=e||{}).length?v(e.parent||document.body):t.parentNode||e.parent}function w(){return(t=Ct.core.globals().ScrollTrigger)&&t.core&&function(){var e=t.core,n=e.bridge||{},r=e._scrollers,i=e._proxies;r.push.apply(r,Gt),i.push.apply(i,zt),Gt=r,zt=i,oe=function(t,e){return n[t](e)}}(),(A=Ct.core.globals().Observer)&&A.core&&A.core.context||function(){},t}function b(t){return Ct=t||m()}function C(t,e,n){for(var r,i,o=t.length,a=0;a<o;a+=2)i=t[a+1],r=t[a],i?e[r]=i:e[r]&&e.removeProperty(r.replace(J,"-$1").toLowerCase())}function T(t,e){if(t.parentNode!==e){var n,r,i=K.length;for(r=e.style;i--;)r[(n=K[i]).p]=n.v;r=t.style,Ct.set(t,{x:0,y:0}),e.appendChild(t)}}function E(t,e,n,r){t.style.position=n,t.style.top=e.top+"px",t.style.left=e.left+"px",r||t.style.transform=""}function P(t){for(var e,n=t.length,r=[],i=0;i<n;i++)e=t[i],r.push(e,e.cloneNode(!0));return t.forEach(function(t){return t.parentNode.removeChild(t)}),r}function M(t,e){return parseFloat(t.css(e))}function _(t){return console.warn(t)}function O(t){return t.ownerDocument||document}function A(t,e){var n=O(t).createElement("div");return n.style.cssText="position:absolute;display:inline-block;height:1px;top:-1px;left:-1px;pointer-events:none;transform-origin:0 0;padding:0;margin:0",n.innerHTML=t.innerHTML,n.style.position="relative",t.parentNode.insertBefore(n,t),n.style.width=n.offsetWidth+"px",n.style.height=n.offsetHeight+"px",n.style.position="absolute",t.parentNode.removeChild(n),n}function k(t,e,n){return e?t.previousSibling:t.parentNode.children[n]}function S(t,e,n){for(var r,i,o=t.length;o--;)r=t[o],i=r.previousSibling,i?i.parentNode.insertBefore(r,i.nextSibling):r.parentNode.appendChild(r);return e?t:S(e,n)}function L(t,e,n){var r,i,o,a=t.style;if(e===At.body){for(r in t._stOrig=a.cssText,i=Rt(t))+r||Y.test(r)||!i[r]||"string"!=typeof a[r]||"0"===r||(a[r]=i[r]);a.top=n.top,a.left=n.left}else a.cssText=t._stOrig;Ct.core.getCache(t).uncache=1,o=t.parentNode,o.insertBefore(t,o.firstChild),o.removeChild(t)}function I(t,e){var n={};n[e.p]=t,Ct.set(t,n)}function R(t,e,n){var r,i,o=t.style;o.position="absolute",o.top=e.top+"px",o.left=e.left+"px",o.width=e.width+"px",o.height=e.height+"px",n&&(i=n.parent,r=n.transform,i.appendChild(t),r&&(t.style.transform=r))};var z,F,N,D,U,G,V,W,B,H,Y=/(webkit|moz|length|cssText|inset)/i,q=(t.gsap=m())&&t.gsap.registerPlugin({name:"flip",version:"3.12.2",core:!0,init:function init(t,e){this.props="position,scale,rotation,x,y,opacity,width,height,borderRadius,background".split(","),this.target=t,this.vars=e,this.batch=e.batch,this.states={},this.id=It++,this.animate=e.animate||e.absolute;var n=e.props||"",r=e.simple;this.simple=r||this.animate&&!e.scale,n&&this.props.push.apply(this.props,n.split(",").filter(function(t){return!t.match(/^(?:position|scale|rotation|x|y|opacity|width|height|borderRadius|background)$/)})),this.props.forEach(function(t){e[t]&&(this[t]=new Zt(e[t]))},this),this.absolute=!e.absolute&&!this.animate?this.batch?null:[]:document.createElement("div"),this.absolute&&!this.animate&&this.batch&&(this.absolute.style.display="none"),this.absolute&&!this.animate&&t.parentNode&&(this.absolute.style.position="absolute"),this.flip=e.onFlip,this.complete=e.onComplete,this.setBounds=e.setBounds,this.enter=e.onEnter,this.leave=e.onLeave,r&&e.absolute&&!this.animate&&(e.scale=!1),this.absolute&&!e.absoluteOnLeave&&!this.animate&&(this.absolute.style.visibility="hidden"),this.from=this.to=null},getTarget:function getTarget(t){return this.vars.target||this.target},add:function add(t,e,n){var r=t.getState(e,n);return this.states[t.id]||(this.states[t.id]={}),this.states[t.id][e]=r,n&&(this.states[t.id][n]=r),"from"===e?this.from=r:"to"===e&&(this.to=r),this},getState:function getState(t,e){t=t||this.target;var n=e?this.props.concat(e):this.props;if(r(t))t=v(t);else if(t.nodeType)t=[t];else if(u(t)&&!t.nodeType)return t;var i=t.map(function(t){return new xt(t,n)}),o=i.length>1?i:i[0];return"props"in this.vars&&!this.vars.props?o:this.props.reduce(function(t,e){return t[e]=o.getProperty(e),t},{props:this.props,elementStates:i,id:this.id})},getAbsolute:function getAbsolute(t,e,n){return t.isAbsolute?function(t,e,n){var r,i=t.element,o=t.bounds;if(t.matrix)return E(i,o,n);var a=O(i),s=a.createElement("div"),u=a.createElement("div");if(e){T(s,e),s.appendChild(i);var c=s.getBoundingClientRect();r={width:c.width,height:c.height,top:c.top,left:c.left},T(i,e.parentNode);var l=s.parentNode;l&&l.removeChild(s)}else r=i.getBoundingClientRect();if(u.style.cssText="position:absolute;display:inline-block;height:1px;top:-1px;left:-1px;pointer-events:none;transform-origin:0 0;padding:0;margin:0",t.bounds.top+=o.top-r.top,t.bounds.left+=o.left-r.left,e)return E(i,t.bounds,n);t.matrix=getComputedStyle(i).getPropertyValue("transform"),t.width=r.width,t.height=r.height,E(i,t.bounds,n)}(t,e,n):t},makeAbsolute:function makeAbsolute(t,e,n){return t.isAbsolute?t:this.getAbsolute(t,e,n)},recordState:function recordState(t){return t.isAbsolute?t:new xt(t.element,this.props)},convertNotAbsolute:function convertNotAbsolute(t,e){return t.isAbsolute?t:this.getAbsolute(this.recordState(t),e)},convertToAbsolute:function convertToAbsolute(t,e){return this.vars.absolute||this.vars.animate?t.map(function(t){return this.getAbsolute(t,e,"absolute")},this):this.absolute?t.map(function(t){return this.convertNotAbsolute(t,e)},this):t},revert:function revert(t){this.vars.onRevert&&this.vars.onRevert(this),t&&this.targets.forEach(function(t){return t.revert()})},getVars:function getVars(t,e,n,r){return n.props=e,n.onComplete=function(){t.forEach(function(t){return t.revert()})},this.vars.simple?Ct.to(r.element,{duration:0}):Ct.to(r.element,{duration:0,scale:1})},...});</script>

    <script>
        // Main application script
        document.addEventListener('DOMContentLoaded', () => {

            // The main animation logic is now guaranteed to run.
            let lenis;
            const initSmoothScrolling = () => {
                lenis = new Lenis({ lerp: 0.1, smoothWheel: true });
                lenis.on('scroll', () => ScrollTrigger.update());
                const scrollFn = (time) => { lenis.raf(time); requestAnimationFrame(scrollFn); };
                requestAnimationFrame(scrollFn);
            };

            const triggerFlipOnScroll = (galleryEl, options) => {
                let settings = { flip: {}, scrollTrigger: {}, stagger: 0 };
                settings = Object.assign({}, settings, options);
                const galleryCaption = galleryEl.querySelector('.caption');
                const galleryItems = galleryEl.querySelectorAll('.gallery__item');
                
                // Add the final class to calculate the end state
                galleryEl.classList.add('gallery--switch');
                
                // Tell Flip to track all necessary properties, including opacity and clipPath
                const flipstate = Flip.getState([galleryItems, galleryCaption], { props: 'filter, opacity, clipPath' });
                
                // Remove the final class to revert to the initial state
                galleryEl.classList.remove('gallery--switch');
                
                // Create the animation from the initial state to the final state
                Flip.to(flipstate, {
                    ease: 'none',
                    absolute: settings.flip.absolute,
                    scale: settings.flip.scale,
                    scrollTrigger: {
                        trigger: galleryEl,
                        start: settings.scrollTrigger.start,
                        end: settings.scrollTrigger.end,
                        pin: galleryEl.parentNode,
                        scrub: true,
                    },
                    stagger: settings.stagger
                });
            };

            const applyScrollAnimations = () => {
                const galleryElement = document.querySelector('#gallery-effect');
                if (galleryElement) {
                    // Use the exact options from the original Codrops demo
                    triggerFlipOnScroll(galleryElement, { 
                        flip: { absolute: true, scale: false }, 
                        scrollTrigger: { start: 'center center', end: '+=900%' }, 
                        stagger: 0.05 
                    });
                }
            };

            // ** GUARANTEED EXECUTION FLOW **
            
            // 1. Initialize smooth scrolling
            initSmoothScrolling();
            
            // 2. Set up the animations
            applyScrollAnimations();
            
            // 3. Make the page visible
            document.body.style.opacity = '1';
        });
    </script>
</body>
</html>